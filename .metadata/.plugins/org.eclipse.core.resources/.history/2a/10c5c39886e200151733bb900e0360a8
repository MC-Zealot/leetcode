package com.leetCode._2th;
/**
 * Implement strStr().

Returns the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.
 * 
 * @author Zealot
 * @date 2016年3月4日 上午9:45:34 
 *
 */
public class ImplementstrStr {
	public int strStr(String haystack, String needle) {
		if(haystack.length()<needle.length()){
			return -1;
		}
		for(int i = 0;i < haystack.length() - needle.length() + 1; i++) {
			int index = 0;
			for(int j = i, k = 0; j < haystack.length() && k < needle.length(); j++, k++){
				if(haystack.charAt(j)!=needle.charAt(k)){
					break;
				}
				index++;
			}
			if(index==needle.length()){
				return i;
			}
		}
		return -1;
    }
	/**
	 * 获取double的n位小数，支持四舍五入
	 * @date 2016年3月5日 上午9:43:30
	 * @param a 要获取小数的double
	 * @param n 取n位小数
	 * @return
	 */
	private String getNWeiXiaoShu(double a, int n) {
		StringBuffer res = new StringBuffer();
		if (a < 0) {
			a = -a;
		}
		if (n <= 0) {
			return res.toString();
		}
		for (int i = 0; i < n; i++) {
			int digit = (int) (a * 10) % 10;
			a = a * 10;
			res.append(digit);
		}
		// 获取第n+1位小数
		int post = (int) (a * 10) % 10;
		// 四舍五入
		String res3 = new String(); 
		if (post > 4) {
			String res2 = res.toString();
			int carry = 1;
			for(int i = res2.length()-1; i >= 0; i--){
				char digit = res2.charAt(i);
				int tmp = (int)digit-'0';
				tmp+=carry;
				if(tmp>=10){
					tmp = tmp % 10;
				}else{
					carry= 0;
				}
				 res3=tmp+res3;
			}
		}else {
			res3 = res.toString();
		}
		char[] ss = res3.toCharArray();
		return res3;
	}
	public static void main(String[] args) {
		ImplementstrStr i = new ImplementstrStr();
//		System.out.println(i.strStr("1", "-1"));
		double a = 0.539959;
		System.out.println(a);
		System.out.println(i.getNWeiXiaoShu(a, 4));
		System.out.println(a);
	}
}
